(function(t){function n(n){for(var e,u,o=n[0],c=n[1],l=n[2],p=0,f=[];p<o.length;p++)u=o[p],i[u]&&f.push(i[u][0]),i[u]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);s&&s(n);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,n=0;n<a.length;n++){for(var r=a[n],e=!0,o=1;o<r.length;o++){var c=r[o];0!==i[c]&&(e=!1)}e&&(a.splice(n--,1),t=u(u.s=r[0]))}return t}var e={},i={app:0},a=[];function u(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=t,u.c=e,u.d=function(t,n,r){u.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,n){if(1&n&&(t=u(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)u.d(r,e,function(n){return t[n]}.bind(null,e));return r},u.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(n,"a",n),n},u.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},u.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var l=0;l<o.length;l++)n(o[l]);var s=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,n,r){t.exports=r("56d7")},"342e":function(t,n,r){"use strict";var e=r("967b"),i=r.n(e);i.a},"51ec":function(t,n,r){"use strict";var e=r("9bda"),i=r.n(e);i.a},"56d7":function(t,n,r){"use strict";r.r(n);r("cadf"),r("551c"),r("097d");var e=r("2b0e"),i=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{attrs:{id:"app"}},[r("Calculator",{attrs:{"max-history-num":20}})],1)},a=[],u=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"calculator"},[r("div",{staticClass:"col",staticStyle:{"background-color":"#ddd"}},[r("div",{staticClass:"row"},[r("calculator-screen",{staticClass:"history",attrs:{value:t.historyShow,rows:t.maxHistoryNum}})],1),r("div",{staticClass:"row"},[r("calculator-screen",{attrs:{value:t.valueShow}})],1),r("div",{staticClass:"row"},[r("calculator-button",{staticClass:"functional-btn",on:{click:t.clearAll}},[t._v(t._s(t.clearType))]),r("calculator-button",{staticClass:"functional-btn",on:{click:t.togglePMsign}},[t._v("±")]),r("calculator-button",{staticClass:"functional-btn",on:{click:t.getPercentage}},[t._v("%")]),r("calculator-button",{staticClass:"operate-btn",on:{click:function(n){t.setOperator("/")}}},[t._v("÷")]),r("div",{staticClass:"w-100"}),r("calculator-button",{on:{click:function(n){t.inputDigit("7")}}},[t._v("7")]),r("calculator-button",{on:{click:function(n){t.inputDigit("8")}}},[t._v("8")]),r("calculator-button",{on:{click:function(n){t.inputDigit("9")}}},[t._v("9")]),r("calculator-button",{staticClass:"operate-btn",on:{click:function(n){t.setOperator("*")}}},[t._v("×")]),r("div",{staticClass:"w-100"}),r("calculator-button",{on:{click:function(n){t.inputDigit("4")}}},[t._v("4")]),r("calculator-button",{on:{click:function(n){t.inputDigit("5")}}},[t._v("5")]),r("calculator-button",{on:{click:function(n){t.inputDigit("6")}}},[t._v("6")]),r("calculator-button",{staticClass:"operate-btn",on:{click:function(n){t.setOperator("-")}}},[t._v("–")]),r("div",{staticClass:"w-100"}),r("calculator-button",{on:{click:function(n){t.inputDigit("1")}}},[t._v("1")]),r("calculator-button",{on:{click:function(n){t.inputDigit("2")}}},[t._v("2")]),r("calculator-button",{on:{click:function(n){t.inputDigit("3")}}},[t._v("3")]),r("calculator-button",{staticClass:"operate-btn",on:{click:function(n){t.setOperator("+")}}},[t._v("+")]),r("div",{staticClass:"w-100"}),r("calculator-button",{staticClass:"col-md-6",on:{click:function(n){t.inputDigit("0")}}},[t._v("0")]),r("calculator-button",{on:{click:function(n){t.inputDigit(".")}}},[t._v(".")]),r("calculator-button",{staticClass:"equal-btn",on:{click:t.calculate}},[t._v("=")])],1)])])},o=[],c=(r("a481"),r("28a5"),r("6b54"),r("87b3"),r("d25f"),r("c5f6"),r("0d6d"),function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("b-button",{staticClass:"col-md-3",on:{click:function(n){t.$emit("click",n)}}},[t._t("default")],2)}),l=[],s={name:"CalculatorButton"},p=s,f=(r("51ec"),r("2877")),h=Object(f["a"])(p,c,l,!1,null,"59aa8581",null),b=h.exports,v=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("b-form-textarea",{staticClass:"screen text-right h1",attrs:{value:t.value,"no-resize":!0,rows:t.rows,"max-rows":t.maxRows,plaintext:""}})},d=[],S={name:"CalculatorScreen",props:{rows:{type:Number},maxRows:{type:Number,default:5},value:{type:String,required:!0}}},g=S,_=(r("ba34"),Object(f["a"])(g,v,d,!1,null,"a81a46d4",null)),m=_.exports,y=r("aabe"),T=16,V=Object.freeze({"+":function(t,n){return Object(y["format"])(Object(y["add"])(t,n),{precision:T})},"-":function(t,n){return Object(y["format"])(Object(y["subtract"])(t,n),{precision:T})},"*":function(t,n){return Object(y["format"])(Object(y["multiply"])(t,n),{precision:T})},"/":function(t,n){if(0===n)throw new Error("Infinity");return Object(y["format"])(Object(y["divide"])(t,n),{precision:T})}}),w={name:"Calculator",components:{CalculatorButton:b,CalculatorScreen:m},props:{maxHistoryNum:{type:Number,default:2}},data:function(){return{MAX_DIGIT_NUM:T,inputState:"START_TYPING",operator:null,previousValue:null,currentValueStr:"0",history:[]}},computed:{clearType:function(){return"START_TYPING"===this.inputState?"AC":"C"},historyShow:function(){var t=[this.previousValue,this.operator].filter(function(t){return null!==t}).join("");"START_TYPING"!==this.inputState&&(t+=this.currentValueStr);var n=this.history.slice();return t&&n.unshift(t),n.join("\n")},valueShow:function(){return this.formatValueStr(this.currentValueStr)}},methods:{clearAll:function(){"START_TYPING"===this.inputState?(this.currentValueStr="0",this.previousValue=null,this.operator=null,this.history=[]):(this.currentValueStr="0",this.inputState="START_TYPING")},togglePMsign:function(){0!==this.currentValueStr&&(this.currentValueStr=(-parseFloat(this.currentValueStr)).toString())},getPercentage:function(){0!==this.currentValueStr&&(this.currentValueStr=(parseFloat(this.currentValueStr)/100).toString())},inputDigit:function(t){if("START_TYPING"===this.inputState||"0"===this.currentValueStr)return this.currentValueStr=t,void(this.inputState="TYPING");this.currentValueStr.length<this.MAX_DIGIT_NUM&&(this.currentValueStr+=t)},setOperator:function(t){null===this.previousValue?(this.previousValue=parseFloat(this.currentValueStr),this.inputState="START_TYPING"):this.calculate(),this.operator=t},calculate:function(){if(null!==this.operator&&null!==this.previousValue)try{var t=V[this.operator],n=parseFloat(this.currentValueStr),r=t(this.previousValue,n);r=this.getPrecisionValue(r),this.history.length>=this.maxHistoryNum&&this.history.pop(),this.history.unshift(this.getPrecisionValue(this.previousValue)+this.operator+this.currentValueStr+"="+r),this.currentValueStr=r.toString(),this.previousValue=r,this.inputState="START_TYPING",this.operator=null}catch(e){console.log(e.message),this.currentValueStr=e.message}},formatValueStr:function(t){var n=t.split(".");return n[0].length>3&&(n[0]=n[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),n.join(".")},getPrecisionValue:function(t){if(t.toString().length>this.MAX_DIGIT_NUM)for(var n=this.MAX_DIGIT_NUM;n>0;n--){var r=t.toPrecision(n);if(r.toString().length<=this.MAX_DIGIT_NUM)return r}return t}}},C=w,O=(r("342e"),Object(f["a"])(C,u,o,!1,null,"6a0eb4f6",null)),k=O.exports,j={name:"app",components:{Calculator:k}},P=j,x=(r("ac09"),Object(f["a"])(P,i,a,!1,null,null,null)),I=x.exports,N=r("9f7b");r("ab8b"),r("2dd8");e["a"].use(N["a"]),e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(I)}}).$mount("#app")},6641:function(t,n,r){},"967b":function(t,n,r){},"9bda":function(t,n,r){},ac09:function(t,n,r){"use strict";var e=r("6641"),i=r.n(e);i.a},ba34:function(t,n,r){"use strict";var e=r("c76d"),i=r.n(e);i.a},c76d:function(t,n,r){}});
//# sourceMappingURL=app.5cf97766.js.map